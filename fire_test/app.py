import streamlit as st

st.set_page_config(page_title="FIRE後 生活満足度マトリクス", layout="centered")

questions = {
    "仕事/労働": ["ある", "ない"],
    "資産/お金": ["ある", "ない"],
    "時間": ["ある", "ない"],
    "健康/メンタル": ["良好", "不良"],
    "社会的繋がり": ["ある", "ない"],
    "自己実現": ["ある", "ない"]
}

scores = {
    "仕事/労働": {"ある": -2, "ない": 2},
    "資産/お金": {"ある": 2, "ない": -2},
    "時間": {"ある": 2, "ない": -2},
    "健康/メンタル": {"良好": 2, "不良": -2},
    "社会的繋がり": {"ある": 2, "ない": -2},
    "自己実現": {"ある": 2, "ない": -2}
}

hints = {
    "仕事/労働": {
        "ある": "労働の“頻度/裁量/外注”を調整し、自由度を拡張。",
        "ない": "軽い社会参加（ボラ/創作発信）で生活リズムと肯定感を保つ。"
    },
    "資産/お金": {
        "ある": "安心資産＋“使う設計”（経験/健康/人的資本）に配分。",
        "ない": "固定費の再設計と緊急資金。将来不安の源を数値化。"
    },
    "時間": {
        "ある": "黄金時間に“健康×自己実現”を固定スロット化。",
        "ない": "家事自動化・外注・やらないことリストで可処分時間を確保。"
    },
    "健康/メンタル": {
        "良好": "維持の自動化（睡眠/歩行/日光/たんぱく質）。",
        "不良": "医療相談＋睡眠/歩行/日光を最優先で再構築。"
    },
    "社会的繋がり": {
        "ある": "“与える行動”を月1回（小さく深く）。",
        "ない": "薄い繋がりを3つ作る（定例会/コミュ/軽ボラ）。"
    },
    "自己実現": {
        "ある": "成果可視化と発信で没頭を持続。",
        "ない": "15分×14日の試作スプリントで方向性を発見。"
    }
}

st.title("F.I.R.E.後 生活満足度マトリクス（簡易テスト）")
with st.form("fire_form"):
    answers = {}
    for cat, opts in questions.items():
        answers[cat] = st.radio(cat, opts, horizontal=True)
    submitted = st.form_submit_button("診断する")

if submitted:
    total = sum(scores[cat][ans] for cat, ans in answers.items())
    final = round(((total + 12) / 24) * 10)
    st.subheader(f"総合満足度: **{final} / 10**")

    st.write("### 内訳とヒント")
    for cat in questions.keys():
        ans = answers[cat]
        pt = scores[cat][ans]
        st.write(f"- **{cat}**: {ans}（{pt:+}）｜ヒント: {hints[cat][ans]}")

    st.caption("※ 仕事=ある がマイナスなのは、FIRE後の自由度（可処分時間）観点による。")
